{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment/","result":{"data":{"file":{"name":"2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment","childMarkdownRemark":{"html":"<p>Two years after I joined Redhat to work on the <a href=\"https://theforeman.org\">foreman</a> project, I received a new PC (Lenovo T480s), and it's time for a fresh start.\nIn this post, I will describe my process of setting up a new PC.</p>\n<h2>Goals</h2>\n<ul>\n<li>Be able to work inside Redhat and use Redhat office tools</li>\n<li>Have a javascript development environment</li>\n<li>Have a ruby development environment</li>\n<li>Have Atom as my IDE and sync it back with my previous settings</li>\n<li>Have a <a href=\"https://github.com/theforeman/forklift\">forklift</a> development environment so I can work on <a href=\"https://theforeman.org\">the foreman project</a>.</li>\n</ul>\n<h2>My Tools</h2>\n<ul>\n<li>Zsh - <a href=\"https://ohmyz.sh/\">https://ohmyz.sh/</a></li>\n<li>NVM - <a href=\"https://github.com/nvm-sh/nvm\">https://github.com/nvm-sh/nvm</a></li>\n<li>RVM - <a href=\"https://rvm.io/\">https://rvm.io/</a></li>\n<li>ATOM - <a href=\"https://atom.io/\">https://atom.io/</a></li>\n<li>Ferdi - <a href=\"https://getferdi.com/\">https://getferdi.com/</a></li>\n</ul>\n<h2>Installing Fedora</h2>\n<ol>\n<li>Install the latest version of Fedora, in my case, I installed fedora 30 from Redhat PXE server and then updated to version 31.\n<ol>\n<li>Another option is to download fedora from <a href=\"https://getfedora.org/en/workstation/download/\">https://getfedora.org/en/workstation/download/</a></li>\n</ol>\n</li>\n<li>Run <code class=\"language-text\">sudo dnf upgrade</code> and <code class=\"language-text\">sudo dnf update</code></li>\n</ol>\n<h2>Install google-chrome browser</h2>\n<p>Install google chrome by running <code class=\"language-text\">sudo dnf install google-chrome-stable</code> and sign in to sync with my previous setup.</p>\n<h2>Installing ZSH and some essential terminal tools</h2>\n<h3>Install ZSH</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> <span class=\"token function\">zsh</span>\n<span class=\"token function\">sh</span> <span class=\"token parameter variable\">-c</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">wget</span> https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh <span class=\"token parameter variable\">-O</span> -<span class=\"token variable\">)</span></span>\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3>Set my new PC hostname</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">hostname</span> sharvit-fedorabook-t480s</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>Install some essential tools</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> <span class=\"token function\">vim</span> hub</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><strong>Restart your computer</strong></p>\n<h3>Install rpmfusion</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-31.noarch.rpm https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-31.noarch.rpm\n<span class=\"token function\">sudo</span> dnf groupupdate core\n<span class=\"token function\">sudo</span> dnf groupupdate sound-and-video</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h3>Configure git</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">git</span> config <span class=\"token parameter variable\">--global</span> user.name <span class=\"token string\">\"Avi Sharvit\"</span>\n<span class=\"token function\">git</span> config <span class=\"token parameter variable\">--global</span> user.email sharvita@gmail.com</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3>Generate an ssh key</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">ssh-keygen <span class=\"token parameter variable\">-t</span> rsa <span class=\"token parameter variable\">-b</span> <span class=\"token number\">4096</span> <span class=\"token parameter variable\">-C</span> <span class=\"token string\">\"sharvita@gmail.com\"</span>\n<span class=\"token builtin class-name\">eval</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>ssh-agent <span class=\"token parameter variable\">-s</span><span class=\"token variable\">)</span></span>\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Add the ssh key to your Github account <a href=\"https://help.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account\">https://help.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account</a></p>\n<h2>Redhat workspace related</h2>\n<h3>Connect to Redhat VPN</h3>\n<p>To be able to connect to the Redhat VPN, you will need to be inside the Redhat VPN, to do that you will need to be in a Redhat office and connect to the secured network (wired, wifi).</p>\n<p>Duo some restrictions, I can't share the full VPN urls, you can find the URLs in this secured link:\n<a href=\"https://mojo.redhat.com/docs/DOC-1199033-set-up-vpn-in-fedora-silverblue\">https://mojo.redhat.com/docs/DOC-1199033-set-up-vpn-in-fedora-silverblue</a></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> NetworkManager-openvpn NetworkManager-openvpn-gnome\n\n<span class=\"token comment\"># download the redhat certificate</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/pki/tls/certs/RH-IT-Root-CA.crt https://-------------.redhat.com/RH-IT-Root-CA.crt\n<span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> /etc/pki/tls/certs/RH-IT-Root-CA.crt /etc/pki/tls/certs/2015-RH-IT-Root-CA.pem\n\n<span class=\"token comment\"># download some vpn profiles</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/AMS2.ovpn http://----------.redhat.com/--------------------------------/AMS2.ovpn\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/PEK2.ovpn http://----------.redhat.com/--------------------------------/PEK2.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/BNE.ovpn http://----------.redhat.com/--------------------------------/BNE.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/BRQ.ovpn http://----------.redhat.com/--------------------------------/BRQ.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/FAB.ovpn http://----------.redhat.com/--------------------------------/FAB.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/PHX2.ovpn http://----------.redhat.com/--------------------------------/PHX2.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/PNQ2.ovpn http://----------.redhat.com/--------------------------------/PNQ2.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/RDU2.ovpn http://----------.redhat.com/--------------------------------/RDU2.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/GRU2.ovpn http://----------.redhat.com/--------------------------------/GRU2.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/SIN2.ovpn http://----------.redhat.com/--------------------------------/SIN2.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/TLV.ovpn http://----------.redhat.com/--------------------------------/TLV.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n<span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> /etc/NetworkManager/system-connections/NRT.ovpn http://----------.redhat.com/--------------------------------/NRT.ovpn?h<span class=\"token operator\">=</span>it-csb-rhel-7\n\n<span class=\"token comment\"># enable the redhat VPN</span>\n<span class=\"token function\">sudo</span> restorecon <span class=\"token parameter variable\">-RvF</span> /etc/pki/tls/certs/\n<span class=\"token function\">sudo</span> restorecon <span class=\"token parameter variable\">-RvF</span> /etc/NetworkManager/system-connections/\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> <span class=\"token number\">644</span> /etc/pki/tls/certs/2015-RH-IT-Root-CA.pem\n<span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> root:root /etc/NetworkManager/system-connections/*\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> <span class=\"token number\">600</span> /etc/NetworkManager/system-connections/*\n<span class=\"token function\">sudo</span> nmcli connection reload</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Go to <code class=\"language-text\">Settings</code> -> <code class=\"language-text\">Network</code> and add your username to each VPN profile.</p>\n<h3>Connect to Redhat printers</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># Adds the TelAviv printers to the cups config</span>\n<span class=\"token comment\"># Replace TLV with another office code to connect to a different office printers</span>\n<span class=\"token comment\"># See office codes here: https://redhat.service-now.com/help?id=kb_article&amp;sysparm_article=KB0002202</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"BrowsePoll cups.tlv.redhat.com\"</span> <span class=\"token operator\">>></span> /etc/cups/cups-browsed.conf\n<span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> cups-browsed\n<span class=\"token function\">sudo</span> systemctl restart cups-browsed</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Once you installed the printers, you should find them in the printer settings.</p>\n<h2>Install Ferdi to manage my social interactions</h2>\n<ol>\n<li>Download the appimage from <a href=\"https://getferdi.com/\">https://getferdi.com/</a> and put it in the <code class=\"language-text\">~/Applications</code> folder.</li>\n<li>Give it exec permissions using <code class=\"language-text\">chmod +x filename</code></li>\n<li>Run it and sign in to get my saved workspace</li>\n</ol>\n<h2>Install Ruby and RVM</h2>\n<p>First fix the gnome-terminal command login using: <a href=\"https://rvm.io/integration/gnome-terminal\">https://rvm.io/integration/gnome-terminal</a></p>\n<p>Install Ruby and RVM</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># install system ruby</span>\n<span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> ruby\n<span class=\"token comment\"># install RVM</span>\ngpg2 --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB\n<span class=\"token punctuation\">\\</span>curl <span class=\"token parameter variable\">-sSL</span> https://get.rvm.io <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> <span class=\"token parameter variable\">-s</span> stable</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>Restart the terminal.</strong></p>\n<p>Install Ruby using RVM</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># enable autolibs</span>\nrvm get stable <span class=\"token parameter variable\">--autolibs</span><span class=\"token operator\">=</span>enable\n<span class=\"token comment\"># Install the latest stable ruby version</span>\nrvm <span class=\"token function\">install</span> ruby-2.6</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>Install NodeJS and NVM</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># install system nodejs and npm</span>\n<span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> nodejs <span class=\"token function\">npm</span>\n<span class=\"token comment\"># install NVM</span>\n<span class=\"token function\">curl</span> -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.0/install.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>Restart the terminal</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># install latest node-js</span>\nnvm <span class=\"token function\">install</span> <span class=\"token number\">12</span>\n<span class=\"token comment\"># install yarn</span>\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">--silent</span> <span class=\"token parameter variable\">--location</span> https://dl.yarnpkg.com/rpm/yarn.repo <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/yum.repos.d/yarn.repo\n<span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> <span class=\"token function\">yarn</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>Install vagrant</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">rvm use system\n<span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> libvirt-daemon-kvm ansible vagrant-libvirt\n<span class=\"token comment\"># enable libvirt</span>\n<span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> <span class=\"token parameter variable\">--now</span> libvirtd\n<span class=\"token comment\"># add your user to the libvirt group to avoid password prompts on running vagrant commands with libvirt provider</span>\n<span class=\"token function\">sudo</span> gpasswd <span class=\"token parameter variable\">-a</span> <span class=\"token variable\">${<span class=\"token environment constant\">USER</span>}</span> libvirt\nnewgrp libvirt\n<span class=\"token comment\"># install vagrant plugins</span>\n<span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> sshfs vagrant-hostmanager vagrant-sshfs</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<p>NOTICE: before working with vagrant make sure you work with the system ruby (<code class=\"language-text\">rvm use system</code>)</p>\n</blockquote>\n<h2>Customizing the zsh</h2>\n<p>I ended up with the following <code class=\"language-text\">.zshrc</code> file in my home directory.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># Path to your oh-my-zsh installation.</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">ZSH</span><span class=\"token operator\">=</span><span class=\"token string\">\"/home/sharvit/.oh-my-zsh\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">LANG</span></span><span class=\"token operator\">=</span>en_US.UTF-8\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">EDITOR</span><span class=\"token operator\">=</span><span class=\"token string\">'vim'</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">ARCHFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-arch x86_64\"</span>\n\n<span class=\"token assign-left variable\">ZSH_THEME</span><span class=\"token operator\">=</span><span class=\"token string\">\"robbyrussell\"</span>\n\n<span class=\"token assign-left variable\">plugins</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>git github dnf vagrant nvm <span class=\"token function\">npm</span> rvm bundler<span class=\"token punctuation\">)</span>\n\n<span class=\"token builtin class-name\">source</span> <span class=\"token variable\">$ZSH</span>/oh-my-zsh.sh\n\n<span class=\"token comment\"># enable autocomplete</span>\nautoload <span class=\"token parameter variable\">-U</span> compinit\ncompinit</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>Install Atom</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">rpm</span> <span class=\"token parameter variable\">--import</span> https://packagecloud.io/AtomEditor/atom/gpgkey\n<span class=\"token function\">sudo</span> <span class=\"token function\">sh</span> <span class=\"token parameter variable\">-c</span> <span class=\"token string\">'echo -e \"[Atom]\\nname=Atom Editor\\nbaseurl=https://packagecloud.io/AtomEditor/atom/el/7/\\$basearch\\nenabled=1\\ngpgcheck=0\\nrepo_gpgcheck=1\\ngpgkey=https://packagecloud.io/AtomEditor/atom/gpgkey\" > /etc/yum.repos.d/atom.repo'</span>\n<span class=\"token function\">sudo</span> dnf <span class=\"token function\">install</span> atom</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><strong>Install my personal settings</strong></p>\n<ol>\n<li>Run <code class=\"language-text\">apm install sync-settings</code></li>\n<li>Open Atom</li>\n<li>Open the sync-settings package settings</li>\n<li>Set access-token</li>\n<li>Set gist id to <code class=\"language-text\">88fddc82d91cdd7cd33fdfdbe03dd161</code></li>\n<li>Restart atom</li>\n<li>Click restore when you receive the message from sync-settings</li>\n</ol>\n<h2>Configure my <a href=\"https://github.com/theforeman/forklift\">forklift</a> development environment so I can work on <a href=\"https://theforeman.org\">the foreman project</a></h2>\n<h3>Clone forklift</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># clone forklift</span>\n<span class=\"token function\">git</span> clone git@github.com:theforeman/forklift.git\n<span class=\"token builtin class-name\">cd</span> forklift\n<span class=\"token comment\"># setup vagrant boxes</span>\n<span class=\"token function\">cp</span> vagrant/boxes.d/99-local.yaml.example vagrant/boxes.d/99-local.yaml\n<span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i.bak</span> <span class=\"token string\">\"s/&lt;REPLACE ME>/sharvit/g\"</span> vagrant/boxes.d/99-local.yaml\n<span class=\"token function\">rm</span> vagrant/boxes.d/99-local.yaml.bak</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Edit the <code class=\"language-text\">vagrant/boxes.d/99-local.yaml</code> file with the following changes:</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-diff line-numbers\"><code class=\"language-diff\">centos7-katello-devel:\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> primary: true\n<span class=\"token prefix unchanged\"> </span> box: centos7\n</span><span class=\"token inserted-arrow inserted\"><span class=\"token prefix inserted\">></span> sshfs:\n<span class=\"token prefix inserted\">></span>   host_path: '/home/sharvit/Projects/theforeman/vagrant-shares/centos7-katello-devel'\n<span class=\"token prefix inserted\">></span>   guest_path: '/home/vagrant'\n<span class=\"token prefix inserted\">></span>   reverse: True\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> ansible:\n<span class=\"token prefix unchanged\"> </span>   playbook: 'playbooks/katello_devel.yml'\n<span class=\"token prefix unchanged\"> </span>   group: 'devel'\n<span class=\"token prefix unchanged\"> </span>   variables:\n<span class=\"token prefix unchanged\"> </span>     ssh_forward_agent: true\n<span class=\"token prefix unchanged\"> </span>     foreman_devel_github_push_ssh: True\n<span class=\"token prefix unchanged\"> </span>     katello_devel_github_username: sharvit\n</span>\ncentos7-luna-devel:\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> box: centos7\n<span class=\"token prefix unchanged\"> </span> memory: 9000\n</span><span class=\"token inserted-arrow inserted\"><span class=\"token prefix inserted\">></span> sshfs:\n<span class=\"token prefix inserted\">></span>   host_path: '/home/sharvit/Projects/theforeman/vagrant-shares/centos7-luna-devel'\n<span class=\"token prefix inserted\">></span>   guest_path: '/home/vagrant'\n<span class=\"token prefix inserted\">></span>   reverse: True\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> ansible:\n<span class=\"token prefix unchanged\"> </span>   playbook: 'playbooks/luna-devel.yml'\n<span class=\"token prefix unchanged\"> </span>   group: 'devel'\n<span class=\"token prefix unchanged\"> </span>   variables:\n<span class=\"token prefix unchanged\"> </span>     katello_devel_github_username: sharvit</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Set the <code class=\"language-text\">host_path</code> to a preferred location on your machine and make sure it exists so you can have access to the foreman source code.</p>\n<h3>Run <code class=\"language-text\">centos7-luna-devel</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">rvm use system\nvagrant up centos7-luna-devel\n<span class=\"token comment\"># the provisioning may fail by unknown reasons</span>\n<span class=\"token comment\"># in this case keep running until a successful provisioning</span>\nvagrant up centos7-luna-devel <span class=\"token parameter variable\">--provision</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>After successful provisioning, ssh into the machine and run foreman:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">vagrant <span class=\"token function\">ssh</span> centos7-luna-devel\n<span class=\"token builtin class-name\">cd</span> foreman\nbundle\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span>\n<span class=\"token comment\"># add some faked data to `foreman`</span>\nbundle <span class=\"token builtin class-name\">exec</span> rake seed:forgeries\n<span class=\"token comment\"># run foreman</span>\nbundle <span class=\"token builtin class-name\">exec</span> foreman start</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>Happy Hacking!</h3>\n<p>Now foreman is running so I can open it in my browser:\n<a href=\"https://centos7-luna-devel.sharvit-fedorabook-t480s.example.com/\">https://centos7-luna-devel.sharvit-fedorabook-t480s.example.com/</a></p>\n<p>Log in with the username <code class=\"language-text\">admin</code> and password <code class=\"language-text\">changeme</code>.</p>\n<p>Go to my <code class=\"language-text\">host_path</code> and open the source code with atom:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /home/asharvit/Projects/theforeman/vagrant-shares/centos7-luna-devel/foreman\natom <span class=\"token builtin class-name\">.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Happy Hacking</p>\n<p>To stop <code class=\"language-text\">centos7-luna-devel</code> run</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">vagrant <span class=\"token function\">halt</span> centos7-luna-devel</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>","excerpt":"Two years after I joined Redhat to work on the foreman project, I received a new PC (Lenovo T480s), and it's time for a fresh start.\nIn this post, I will describe my process of setting up a new PC. Goals Be able to work inside Redhat and use Redhat office tools Have a javascript…","frontmatter":{"title":"I received my new PC, and it is the time to install Fedora and set up my work environment","coverImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#383828","images":{"fallback":{"src":"/static/32b84915e1545038fd6a0aa84908b7ac/3832f/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment.jpg","srcSet":"/static/32b84915e1545038fd6a0aa84908b7ac/6c918/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment.jpg 750w,\n/static/32b84915e1545038fd6a0aa84908b7ac/49438/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment.jpg 1080w,\n/static/32b84915e1545038fd6a0aa84908b7ac/f4534/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment.jpg 1366w,\n/static/32b84915e1545038fd6a0aa84908b7ac/3832f/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/32b84915e1545038fd6a0aa84908b7ac/66907/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment.webp 750w,\n/static/32b84915e1545038fd6a0aa84908b7ac/27610/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment.webp 1080w,\n/static/32b84915e1545038fd6a0aa84908b7ac/90004/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment.webp 1366w,\n/static/32b84915e1545038fd6a0aa84908b7ac/e4c47/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.75}}}}}}},"pageContext":{"id":"fdb36c6a-248b-5099-926d-fc263b5c4dcb","postPath":"/blog/2019-11-05-i-received-my-new-pc-and-it-is-the-time-to-install-fedora-and-set-up-my-work-environment"}},"staticQueryHashes":["1187565960","1421987612","2375201890","2545220355","282316431","338777631","3904166403","400598487"],"slicesMap":{}}